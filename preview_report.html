<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Preview: Intelligence Report</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.iconify.design/3/3.1.0/iconify.min.js"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Manrope:wght@200;300;400;500;600&family=Oswald:wght@300;400;500&display=swap");

      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 6px;
      }
      ::-webkit-scrollbar-track {
        background: #0a0a0a;
      }
      ::-webkit-scrollbar-thumb {
        background: #333;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #9d1a10;
      }

      body {
        font-family: "Manrope", sans-serif;
      }
      h1,
      h2,
      h3,
      .display-font {
        font-family: "Oswald", sans-serif;
      }
    </style>
  </head>
  <body
    class="bg-white text-black antialiased selection:bg-[#9D1A10] selection:text-white"
  >
    <!-- Intelligence Report (Results) -->
    <section id="intelligence" class="py-12 bg-white text-black relative">
      <div
        class="absolute top-0 right-0 w-1/2 h-full bg-neutral-100 -skew-x-12 translate-x-32 hidden md:block z-0"
      ></div>

      <div class="relative z-10 px-6 md:px-12 max-w-5xl mx-auto">
        <div class="mb-12">
          <span
            class="text-[#9D1A10] uppercase tracking-widest text-sm font-bold"
            >Mission Complete</span
          >
          <h2
            class="text-5xl md:text-7xl font-normal uppercase tracking-tighter mt-4 text-neutral-900"
          >
            Intelligence <br /><span class="italic font-serif text-[#9D1A10]"
              >Report</span
            >
          </h2>
        </div>

        <div
          id="resultArticle"
          class="prose prose-lg max-w-none prose-headings:font-oswald prose-headings:uppercase prose-p:font-manrope prose-p:font-light prose-a:text-[#9D1A10]"
        >
          <!-- Content will be injected here -->
        </div>
      </div>
    </section>

    <script>
      function displayResult(article) {
        const articleEl = document.getElementById("resultArticle");

        // Parser de Markdown mejorado con estructura profesional
        let html = article;

        // 0. NORMALIZAR saltos de línea (corregir Markdown mal formateado)

        // Asegurar espacio ANTES de los headers (si hay texto pegado antes)
        html = html.replace(/([^\n])\s*(#{1,6}\s)/g, "$1\n\n$2");

        // Asegurar espacio DESPUÉS de los headers (sin romper la última letra)
        html = html.replace(/^(#{1,6}\s.+?)\s*$/gm, "$1\n\n");

        // 1. Escapar HTML para seguridad
        html = html
          .replace(/&/g, "&amp;")
          .replace(/</g, "&lt;")
          .replace(/>/g, "&gt;");

        // 2. Bloques de código con sintaxis (```lang)
        html = html.replace(
          /```(\w+)?\n([\s\S]+?)```/g,
          '<pre class="bg-neutral-900 text-green-400 p-6 rounded-xl overflow-x-auto my-6 shadow-lg border border-neutral-700"><code class="font-mono text-sm leading-relaxed">$2</code></pre>'
        );

        // 3. Headers con estilos periodísticos
        html = html.replace(
          /^######\s+(.+)$/gm,
          '<h6 class="text-sm font-semibold mt-6 mb-2 text-neutral-700 uppercase tracking-wide">$1</h6>'
        );
        html = html.replace(
          /^#####\s+(.+)$/gm,
          '<h5 class="text-base font-bold mt-6 mb-3 text-neutral-800">$1</h5>'
        );
        html = html.replace(
          /^####\s+(.+)$/gm,
          '<h4 class="text-lg font-bold mt-8 mb-3 text-neutral-800 border-l-4 border-[#9D1A10] pl-3">$1</h4>'
        );
        html = html.replace(
          /^###\s+(.+)$/gm,
          '<h3 class="text-xl md:text-2xl font-bold mt-10 mb-4 text-neutral-900">$1</h3>'
        );
        html = html.replace(
          /^##\s+(.+)$/gm,
          '<h2 class="text-2xl md:text-3xl font-bold mt-12 mb-6 text-neutral-900 border-b-2 border-[#9D1A10] pb-3">$1</h2>'
        );
        html = html.replace(
          /^#\s+(.+)$/gm,
          '<h1 class="text-4xl md:text-5xl lg:text-6xl font-black mb-6 text-[#9D1A10] leading-tight tracking-tight">$1</h1>'
        );

        // 4. Separadores con estilo
        html = html.replace(
          /^---$/gm,
          '<hr class="my-10 border-t-2 border-neutral-200" />'
        );
        html = html.replace(
          /^\*\*\*$/gm,
          '<hr class="my-10 border-t-2 border-dashed border-neutral-300" />'
        );

        // 5. Blockquotes estilo periodístico
        html = html.replace(
          /^&gt;\s+(.+)$/gm,
          '<blockquote class="border-l-4 border-[#9D1A10] bg-neutral-50 pl-6 pr-4 py-4 italic text-lg text-neutral-700 my-6 rounded-r-lg shadow-sm">$1</blockquote>'
        );

        // 6. Listas desordenadas con mejor espaciado
        html = html.replace(
          /^\*\s+(.+)$/gm,
          '<li class="ml-6 list-disc mb-3 text-neutral-700 leading-relaxed">$1</li>'
        );
        html = html.replace(
          /^-\s+(.+)$/gm,
          '<li class="ml-6 list-disc mb-3 text-neutral-700 leading-relaxed">$1</li>'
        );

        // 7. Listas ordenadas
        html = html.replace(
          /^\d+\.\s+(.+)$/gm,
          '<li class="ml-6 list-decimal mb-3 text-neutral-700 leading-relaxed">$1</li>'
        );

        // 8. Agrupar listas en containers
        html = html.replace(
          /(<li class="ml-6 list-disc[^>]*>.*?<\/li>(\n|$))+/gs,
          '<ul class="my-6 space-y-1">$&</ul>'
        );
        html = html.replace(
          /(<li class="ml-6 list-decimal[^>]*>.*?<\/li>(\n|$))+/gs,
          '<ol class="my-6 space-y-1">$&</ol>'
        );

        // 9. Formato inline - bold, italic, combinados
        html = html.replace(
          /\*\*\*(.+?)\*\*\*/g,
          '<strong class="font-black text-neutral-900"><em class="italic">$1</em></strong>'
        );
        html = html.replace(
          /\*\*(.+?)\*\*/g,
          '<strong class="font-bold text-neutral-900">$1</strong>'
        );
        html = html.replace(
          /\*(.+?)\*/g,
          '<em class="italic text-neutral-600">$1</em>'
        );
        html = html.replace(
          /__(.+?)__/g,
          '<strong class="font-bold text-neutral-900">$1</strong>'
        );
        html = html.replace(
          /_(.+?)_/g,
          '<em class="italic text-neutral-600">$1</em>'
        );

        // 10. Links con icono externo
        html = html.replace(
          /\[([^\]]+)\]\(([^)]+)\)/g,
          '<a href="$2" target="_blank" rel="noopener noreferrer" class="text-[#9D1A10] font-medium underline decoration-2 underline-offset-2 hover:text-red-700 hover:decoration-wavy transition-all duration-200">$1 <span class="text-xs">↗</span></a>'
        );

        // 11. Código inline
        html = html.replace(
          /`([^`]+)`/g,
          '<code class="bg-red-50 text-[#9D1A10] px-2 py-0.5 rounded font-mono text-sm border border-red-100">$1</code>'
        );

        // 12. Párrafos bien formateados
        html = html
          .split("\n\n")
          .map((block) => {
            const trimmed = block.trim();

            // No envolver si ya es elemento estructural
            if (trimmed.match(/^<(h[1-6]|ul|ol|pre|blockquote|hr|div)/)) {
              return trimmed;
            }

            // No envolver items de lista sueltos
            if (trimmed.match(/^<li/)) {
              return trimmed;
            }

            // Párrafos vacíos
            if (!trimmed) {
              return "";
            }

            // Párrafo normal con tipografía profesional
            return `<p class="mb-6 text-lg leading-relaxed text-neutral-700 text-justify">${trimmed}</p>`;
          })
          .filter((block) => block) // Remover vacíos
          .join("\n");

        // 13. Detectar y estilizar el lead (primer párrafo en negrita)
        html = html.replace(
          /^<p class="mb-6[^>]*"><strong[^>]*>(.+?)<\/strong><\/p>/m,
          '<p class="mb-8 text-xl md:text-2xl leading-relaxed text-neutral-800 font-semibold border-l-4 border-[#9D1A10] pl-4 bg-neutral-50 py-4 rounded-r">$1</p>'
        );

        // 14. Limpiar saltos de línea excesivos
        html = html.replace(/\n{3,}/g, "\n\n");

        // 15. Wrapper para article con clase profesional
        const styledHtml = `
          <article class="prose prose-lg max-w-none">
            ${html}
          </article>
        `;

        articleEl.innerHTML = styledHtml;
      }

      const markdownContent = `# Capturan a Nicolás Maduro en operación internacional en Caracas

## Operación conjunta de la DEA y fuerzas latinoamericanas detiene al presidente venezolano acusado de narcotráfico y crímenes de lesa humanidad

**Nicolás Maduro fue capturado este viernes 3 de enero a las 3:00 AM en Caracas durante una operación internacional coordinada por la DEA y agencias de inteligencia latinoamericana. El mandatario venezolano enfrenta cargos por narcotráfico, lavado de dinero y crímenes de lesa humanidad, según confirmó el portavoz del Departamento de Estado, Matthew Miller.**

## Los Hechos

La operación, denominada "Operación Libertad", se ejecutó cuando fuerzas especiales ingresaron a la residencia presidencial en Caracas. Más de 200 agentes internacionales participaron en la misión que culminó meses de investigación tras la obtención de evidencia sobre la presunta participación de Maduro en el Cartel de los Soles.

> "Confirmamos la detención de Nicolás Maduro Moros por cargos de narcotráfico, lavado de dinero y crímenes de lesa humanidad" 

- **Matthew Miller, portavoz del Departamento de Estado**

La operación transcurrió en tres fases: un ciberataque que neutralizó los sistemas de comunicación del palacio, el ingreso de fuerzas especiales y la posterior extracción del detenido. Testigos reportaron intensa actividad militar en la zona de Miraflores durante las primeras horas del día.

### Reacciones Internacionales

- **Estados Unidos**: El presidente Joe Biden calificó la acción como "demostración de compromiso con la justicia y la democracia en el hemisferio"

- **Rusia, China e Irán**: Condenaron la detención como "violación de la soberanía venezolana"

- **Organización de Estados Americanos**: Convocó sesión de emergencia para discutir la situación

> "Esta acción demuestra nuestro compromiso con la justicia y la democracia en el hemisferio" 

- **Joe Biden, presidente de Estados Unidos**

> "La detención ilegal del presidente legítimo de Venezuela constituye un acto de agresión internacional" 

- **Ministerio de Relaciones Exteriores de Rusia**

## Situación en Venezuela

La captura ha generado una crisis política sin precedentes. El vicepresidente Diosdado Cabello ha asumido el control temporal del gobierno, mientras líderes opositores como María Corina Machado exigen elecciones libres inmediatas.

> "Este es el momento de la transición democrática que Venezuela necesita" 

- **María Corina Machado, líder opositora**

Las bolsas latinoamericanas han mostrado alta volatilidad ante la incertidumbre política. Expertos advierten que la situación podría escalar a un conflicto regional si no se maneja con diplomacia.

## Conclusión

La detención de un jefe de Estado en ejercicio marca un precedente internacional sin precedentes. Mientras Estados Unidos solicita la extradición de Maduro, el proceso legal podría extenderse por meses. La comunidad internacional permanece atenta a la evolución de los acontecimientos en Venezuela y sus implicancias regionales.

---

**Fuentes:**

- La República (2026-01-03). Capturan a Nicolás Maduro en operación conjunta internacional

- El Comercio (2026-01-03). Detención de Maduro: Reacciones internacionales y crisis en Venezuela

- Infobae (2026-01-03). Operación Libertad: Detalles exclusivos de la captura de Maduro`;

      displayResult(markdownContent);
    </script>
  </body>
</html>
